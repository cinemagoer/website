{% extends "layout.html" %}

{% block body %}
{{ this.body }}

{% set newsitems = site.query('/news').filter(F._model == 'newsitem').order_by('-date') %}
{% from "macros/newsitem.html" import render_newsitem %}
<section>
  <h2>News</h2>
  {% for newsitem in newsitems %}
    {{ render_newsitem(newsitem) }}
  {% endfor %}
</section>
{% endblock %}
