{% extends "layout.html" %}
{% block title %}{{ this.title }}{% endblock %}
{% block body %}
{{ this.body }}

{% set newsitems = site.query('/news').filter(F._model == 'newsitem').order_by('-date') %}
{% from "macros/newsitem.html" import render_newsitem %}
<section>
  <h1>News</h1>
  {% for newsitem in newsitems %}
    {{ render_newsitem(newsitem) }}
  {% endfor %}
</section>
{% endblock %}
